import{getTimeAgo,formatNumber,countComments}from"./functions.min.js";export function buildComments(e,a){console.log("Building comments...");const n="https://360.com/profile/",s=document.querySelector("#comments");s.innerHTML="";var i=`<h4 class="amount-comments">${countComments(e)} comments</h4>\n                <div id="closecommentsbtn"></div><div class="container">`;try{e.map((e=>{i+=`<div class="comment" data-id="${e.id}">\n                        <a href="${n+e.username}" class="thumb"  target="_blank">\n                            <img src="${e.thumbnail}" alt="" />\n                        </a>\n                        <div class="commentinfo">\n                            <a href="${n+e.username}" class="profilename" target="_blank">\n                                ${e.username}`,e.username===a.username&&(i+='<span class="creator">· Creator</span>'),i+=`</a>\n                            <p class="message">${e.comment}</p>\n                            <span class="timeago">${getTimeAgo(e.registered)}</span>\n                            <a href="#like" class="likecomment${e.has_liked?" likedcomment":""}" data-hasliked="${e.has_liked}" data-id="${e.id}">\n                                <svg viewBox="0 0 256 256" xmlns="http://www.w3.org/2000/svg">\n                                    <rect fill="none" height="256" width="256" />\n                                    <path\n                                        d="M176,32a60,60,0,0,0-48,24A60,60,0,0,0,20,92c0,71.9,99.9,128.6,104.1,131a7.8,7.8,0,0,0,3.9,1,7.6,7.6,0,0,0,3.9-1,314.3,314.3,0,0,0,51.5-37.6C218.3,154,236,122.6,236,92A60,60,0,0,0,176,32Z"\n                                    />\n                                </svg>\n                                ${formatNumber(e.likes_count)}\n                            </a>\n                            <a href="#reply" class="replybtn" data-id="${e.id}" data-name="${e.username}">Reply</a>\n                        </div>\n                    </div>`,e.replies&&e.replies.length>0&&(i+=`<div class="replies"><div class="btn-showreplies">+ View ${e.replies.length} replies</div><div class="replies-container">`,e.replies.map((e=>{i+=`<div class="comment reply" data-id="${e.id}" data-reply_id="${e.reply_id}" data-parent_id="${e.parent_id}">\n                                <a href="${n+e.username}" class="thumb" target="_blank"><img src="${e.thumbnail}" alt="" /></a>\n                                <div class="commentinfo">\n                                    <div class="repliedto">\n                                        <a href="${n+e.username}" class="profilename" target="_blank">${e.username}`,e.username===a.username&&(console.log(e.username,a.username),i+='<span class="creator">· Creator</span>'),i+=`</a> > <a href="${n+e.reply_username}" class="profilename replyto">${e.reply_username}`,e.username===a.username&&(console.log(e.username,a.username),i+='<span class="creator">· Creator</span>'),i+=`</a>\n                                    </div>\n                                    <p class="message">${e.comment}</p>\n                                    <span class="timeago">${getTimeAgo(e.registered)}</span>\n                                    <a href="#like" class="likecomment${e.has_liked?" likedcomment":""}" data-hasliked="${e.has_liked}" data-id="${e.id}">\n                                        <svg viewBox="0 0 256 256" xmlns="http://www.w3.org/2000/svg">\n                                            <rect fill="none" height="256" width="256" />\n                                            <path\n                                                d="M176,32a60,60,0,0,0-48,24A60,60,0,0,0,20,92c0,71.9,99.9,128.6,104.1,131a7.8,7.8,0,0,0,3.9,1,7.6,7.6,0,0,0,3.9-1,314.3,314.3,0,0,0,51.5-37.6C218.3,154,236,122.6,236,92A60,60,0,0,0,176,32Z"\n                                            />\n                                        </svg>\n                                        ${formatNumber(e.likes_count)}\n                                    </a>\n                                    <a href="#reply" class="replybtn" data-id="${e.id}" data-parent_id="${e.parent_id}" data-name="${e.username}">Reply</a>\n                                </div>\n                            </div>`})),i+="</div></div>")}))}catch(e){console.error("Error occurred during mapping:",e)}i+='</div>\n            <div class="writecomment">\n                <div class="thumb"></div>\n                <div id="emojiplugin"></div>\n            </div>',s.innerHTML=i,console.log("Building comments complete...")}