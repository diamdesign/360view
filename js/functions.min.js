export function getUrlParameter(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var t=new RegExp("[\\?&]"+e+"=([^&#]*)").exec(location.search);return null===t?"":decodeURIComponent(t[1].replace(/\+/g," "))}export async function xhrSend(e,t,n){return new Promise(((r,o)=>{var a=new XMLHttpRequest;a.open(e,t,!0),a.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),a.onreadystatechange=function(){if(4===a.readyState)if(200===a.status){var e=a.responseText.trim();if(e.startsWith("[]")){var t=e.substring(2).trim(),n=JSON.parse(t);r(n)}else{n=JSON.parse(e);r(n)}}else o(a.statusText)},a.send(n)}))}export function testInternetSpeed(){return new Promise(((e,t)=>{const n=(new Date).getTime(),r=new Image;r.onload=function(){const t=((509064/(((new Date).getTime()-n)/1e3)).toFixed(2)/1024).toFixed(2);e(t)},r.onerror=function(e){t(e)},r.src="../img/360-low.jpg?n="+Math.random()}))}